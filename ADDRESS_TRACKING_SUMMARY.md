# Polymarket åœ°å€è¿½è¸ªåŠŸèƒ½ - å®Œæˆæ€»ç»“

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### ğŸ†• æœ€æ–°åŠŸèƒ½ï¼šå›¾è¡¨å¯è§†åŒ–

æ–°å¢äº¤æ˜“æ—¶é—´åºåˆ—å›¾è¡¨åŠŸèƒ½ï¼š
- âœ… æŒ‰å¸‚åœºæ˜¾ç¤º YES/NO äº¤æ˜“çš„æ—¶é—´å’Œä»·æ ¼
- âœ… äº¤æ˜“æ•°é‡æŸ±çŠ¶å›¾
- âœ… å¸‚åœºäº¤æ˜“å¯¹æ¯”ï¼ˆè‡ªå·± vs å…¶ä»–äººï¼‰
- âœ… äº¤äº’å¼ Plotly å›¾è¡¨
- âœ… é›†æˆåˆ° Dashboard ä¸­ï¼ˆä¾§è¾¹æ é€‰æ‹©"å›¾è¡¨åˆ†ææ¨¡å¼"ï¼‰

### 1. API ç ”ç©¶å’Œæµ‹è¯• (test_address_tracking*.py)

æˆ‘ä»¬å‘ç°äº† Polymarket çš„å…¬å¼€ APIï¼š

```
https://data-api.polymarket.com/trades?address={address}
https://data-api.polymarket.com/trades?market={condition_id}
```

**æµ‹è¯•ç»“æœ**ï¼š
- âœ… å¯ä»¥è·å–ä»»æ„åœ°å€çš„äº¤æ˜“å†å²
- âœ… å¯ä»¥è·å–ç‰¹å®šå¸‚åœºçš„æ‰€æœ‰äº¤æ˜“
- âœ… ä¸éœ€è¦ API å¯†é’¥
- âœ… è¿”å›è¯¦ç»†çš„äº¤æ˜“æ•°æ®ï¼ˆä»·æ ¼ã€æ•°é‡ã€æ—¶é—´ã€å¸‚åœºç­‰ï¼‰

### 2. æ ¸å¿ƒæ¨¡å—å®ç° (src/market/address_tracker.py)

åˆ›å»ºäº† `AddressTracker` ç±»ï¼Œæä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š

**ä¸»è¦æ–¹æ³•**ï¼š
- `get_address_trades(address, limit)` - è·å–åœ°å€çš„äº¤æ˜“å†å²
- `get_market_trades(condition_id, limit)` - è·å–å¸‚åœºçš„æ‰€æœ‰äº¤æ˜“
- `analyze_trades(trades)` - åˆ†æäº¤æ˜“æ•°æ®ç»Ÿè®¡

**æ•°æ®ç»“æ„**ï¼š
- `Trade` æ•°æ®ç±» - å°è£…äº¤æ˜“ä¿¡æ¯
- æ”¯æŒå¼‚æ­¥æ“ä½œ
- å®Œå–„çš„é”™è¯¯å¤„ç†

### 3. Dashboard å¯è§†åŒ– (dashboard_address_tracking.py)

åˆ›å»ºäº†ç‹¬ç«‹çš„ Streamlit Dashboardï¼ŒåŒ…å«ï¼š

**åŠŸèƒ½**ï¼š
- ğŸ“Š äº¤æ˜“æ¦‚è§ˆå¡ç‰‡ï¼ˆæ€»äº¤æ˜“æ•°ã€ä¹°å–ç»Ÿè®¡ã€é‡‘é¢æ±‡æ€»ï¼‰
- ğŸ“ æœ€è¿‘äº¤æ˜“åˆ—è¡¨ï¼ˆå¯ç‚¹å‡»å¸‚åœºé“¾æ¥ï¼‰
- ğŸ“ˆ æŒ‰å¸‚åœºåˆ†ç»„ç»Ÿè®¡
- ğŸ¨ ç¾è§‚çš„ UI è®¾è®¡

**ä½¿ç”¨æ–¹å¼**ï¼š
```bash
./run_address_tracking.sh
```

### 4. ä½¿ç”¨ç¤ºä¾‹ (example_address_tracking.py)

æä¾›äº† 4 ä¸ªå®Œæ•´çš„ä½¿ç”¨ç¤ºä¾‹ï¼š
1. åŸºæœ¬çš„åœ°å€è¿½è¸ª
2. äº¤æ˜“æ•°æ®åˆ†æ
3. å¸‚åœºäº¤æ˜“å¯¹æ¯”ï¼ˆè‡ªå·± vs å…¶ä»–äººï¼‰
4. ç­›é€‰ç‰¹å®šç±»å‹çš„äº¤æ˜“

### 5. å®Œæ•´æ–‡æ¡£ (docs/ADDRESS_TRACKING.md)

è¯¦ç»†çš„åŠŸèƒ½æ–‡æ¡£ï¼ŒåŒ…æ‹¬ï¼š
- API ä½¿ç”¨è¯´æ˜
- ä»£ç ç¤ºä¾‹
- åŠŸèƒ½ç‰¹æ€§åˆ—è¡¨
- å¸¸è§é—®é¢˜è§£ç­”
- æ‰©å±•å»ºè®®

## ğŸ“ æ–‡ä»¶ç»“æ„

```
trading_binary/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ market/
â”‚   â”‚   â””â”€â”€ address_tracker.py          # æ ¸å¿ƒæ¨¡å—
â”‚   â””â”€â”€ dashboard/
â”‚       â””â”€â”€ address_tracking.py         # Dashboard ç»„ä»¶
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ ADDRESS_TRACKING.md             # åŠŸèƒ½æ–‡æ¡£
â”œâ”€â”€ test_address_tracking.py            # API æµ‹è¯• v1
â”œâ”€â”€ test_address_tracking_v2.py         # API æµ‹è¯• v2
â”œâ”€â”€ test_address_tracking_v3.py         # API æµ‹è¯• v3 (RPC)
â”œâ”€â”€ test_address_tracking_final.py      # æœ€ç»ˆæµ‹è¯•ç‰ˆæœ¬
â”œâ”€â”€ example_address_tracking.py         # ä½¿ç”¨ç¤ºä¾‹
â”œâ”€â”€ dashboard_address_tracking.py       # Dashboard åº”ç”¨
â”œâ”€â”€ run_address_tracking.sh             # å¯åŠ¨è„šæœ¬
â””â”€â”€ ADDRESS_TRACKING_SUMMARY.md         # æœ¬æ–‡ä»¶
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹æ³• 1: ä½¿ç”¨ Dashboardï¼ˆæ¨èï¼‰

```bash
# 1. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate

# 2. å¯åŠ¨ Dashboard
./run_address_tracking.sh

# 3. åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€
# http://localhost:8502
```

### æ–¹æ³• 2: å‘½ä»¤è¡Œæµ‹è¯•

```bash
# 1. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate

# 2. è¿è¡Œæµ‹è¯•è„šæœ¬
python test_address_tracking_final.py

# æˆ–è¿è¡Œç¤ºä¾‹
python example_address_tracking.py
```

### æ–¹æ³• 3: åœ¨ä»£ç ä¸­ä½¿ç”¨

```python
import asyncio
from src.market.address_tracker import AddressTracker

async def track_address():
    async with AddressTracker() as tracker:
        trades = await tracker.get_address_trades(
            "0x6031b6eed1c97e853c6e0f03ad3ce3529351f96d"
        )
        analysis = tracker.analyze_trades(trades)
        print(f"æ€»äº¤æ˜“æ•°: {analysis['total_trades']}")

asyncio.run(track_address())
```

## ğŸ“Š æµ‹è¯•ç»“æœ

ä½¿ç”¨åœ°å€ `0x6031b6eed1c97e853c6e0f03ad3ce3529351f96d` çš„æµ‹è¯•ç»“æœï¼š

- âœ… æˆåŠŸè·å– 100+ ç¬”äº¤æ˜“è®°å½•
- âœ… äº¤æ˜“æ•°æ®å®Œæ•´ï¼ˆåŒ…æ‹¬ä»·æ ¼ã€æ•°é‡ã€æ—¶é—´ã€å¸‚åœºç­‰ï¼‰
- âœ… å¯ä»¥åˆ†æäº¤æ˜“ç»Ÿè®¡ï¼ˆä¹°å–æ¯”ä¾‹ã€é‡‘é¢æ±‡æ€»ç­‰ï¼‰
- âœ… å¯ä»¥æŒ‰å¸‚åœºåˆ†ç»„ç»Ÿè®¡
- âœ… å¯ä»¥æŸ¥è¯¢ç‰¹å®šå¸‚åœºçš„æ‰€æœ‰äº¤æ˜“è¿›è¡Œå¯¹æ¯”

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. è¿½è¸ªåœ°å€äº¤æ˜“

```python
trades = await tracker.get_address_trades(address, limit=100)
```

è·å–ï¼š
- äº¤æ˜“æ–¹å‘ï¼ˆBUY/SELLï¼‰
- äº¤æ˜“æ•°é‡å’Œä»·æ ¼
- å¸‚åœºä¿¡æ¯
- æ—¶é—´æˆ³
- ä»£ç†é’±åŒ…åœ°å€

### 2. åˆ†æäº¤æ˜“æ•°æ®

```python
analysis = tracker.analyze_trades(trades)
```

è¿”å›ï¼š
- æ€»äº¤æ˜“æ•°ã€ä¹°å–ç»Ÿè®¡
- äº¤æ˜“é‡‘é¢æ±‡æ€»
- æŒ‰å¸‚åœºåˆ†ç»„ç»Ÿè®¡
- å‡€æŠ•å…¥è®¡ç®—
- æœ€æ–°äº¤æ˜“ä¿¡æ¯

### 3. å¸‚åœºå¯¹æ¯”

```python
market_trades = await tracker.get_market_trades(condition_id, limit=100)
```

å¯ä»¥å¯¹æ¯”ï¼š
- è‡ªå·± vs å…¶ä»–äº¤æ˜“è€…
- äº¤æ˜“é‡æ’å
- ä¹°å–åˆ†å¸ƒ

## ğŸ’¡ åº”ç”¨åœºæ™¯

1. **ç›‘æ§é«˜æ‰‹äº¤æ˜“**
   - æ‰¾åˆ°ç›ˆåˆ©çš„äº¤æ˜“è€…
   - åˆ†æå…¶äº¤æ˜“ç­–ç•¥
   - è·Ÿéšå…¶äº¤æ˜“æ–¹å‘

2. **å¸‚åœºåˆ†æ**
   - æŸ¥çœ‹å¸‚åœºçš„æ€»ä½“äº¤æ˜“æƒ…å†µ
   - åˆ†æä¹°å–åˆ†å¸ƒ
   - å‘ç°å¼‚å¸¸äº¤æ˜“

3. **è‡ªæˆ‘åˆ†æ**
   - è¿½è¸ªè‡ªå·±çš„äº¤æ˜“å†å²
   - ç»Ÿè®¡èƒœç‡å’Œç›ˆäº
   - ä¼˜åŒ–äº¤æ˜“ç­–ç•¥

4. **ç«å“åˆ†æ**
   - ç›‘æ§ç«äº‰å¯¹æ‰‹
   - åˆ†æå¸‚åœºå‚ä¸è€…
   - å‘ç°äº¤æ˜“æœºä¼š

## ğŸ”„ å¯èƒ½çš„æ‰©å±•åŠŸèƒ½

### ä¼˜å…ˆçº§é«˜

1. **å®æ—¶ç›‘æ§**
   - WebSocket è¿æ¥æˆ–å®šæ—¶è½®è¯¢
   - æ–°äº¤æ˜“å®æ—¶æé†’
   - ä»·æ ¼å˜åŠ¨é€šçŸ¥

2. **å¤šåœ°å€è¿½è¸ª**
   - åŒæ—¶è¿½è¸ªå¤šä¸ªåœ°å€
   - åœ°å€å¯¹æ¯”åˆ†æ
   - ç»„åˆç»Ÿè®¡

3. **ç›ˆäºåˆ†æ**
   - è®¡ç®—å·²ç»“ç®—å¸‚åœºçš„ç›ˆäº
   - ç»Ÿè®¡èƒœç‡
   - ROI åˆ†æ

### ä¼˜å…ˆçº§ä¸­

4. **è·Ÿå•åŠŸèƒ½**
   - è‡ªåŠ¨è·ŸéšæŸä¸ªåœ°å€äº¤æ˜“
   - è®¾ç½®è·Ÿå•æ¯”ä¾‹
   - é£é™©æ§åˆ¶

5. **æ•°æ®å¯¼å‡º**
   - CSV/Excel å¯¼å‡º
   - å›¾è¡¨ç”Ÿæˆ
   - æŠ¥è¡¨åŠŸèƒ½

6. **é«˜çº§ç­›é€‰**
   - æŒ‰æ—¶é—´èŒƒå›´ç­›é€‰
   - æŒ‰å¸‚åœºç±»å‹ç­›é€‰
   - æŒ‰é‡‘é¢å¤§å°ç­›é€‰

### ä¼˜å…ˆçº§ä½

7. **ç¤¾åŒºåŠŸèƒ½**
   - äº¤æ˜“è€…æ’è¡Œæ¦œ
   - åˆ†äº«äº¤æ˜“ç­–ç•¥
   - è¯„è®ºå’Œè®¨è®º

8. **AI åˆ†æ**
   - äº¤æ˜“æ¨¡å¼è¯†åˆ«
   - ç­–ç•¥æ¨è
   - é£é™©é¢„æµ‹

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **API é™åˆ¶**
   - å¯èƒ½å­˜åœ¨é€Ÿç‡é™åˆ¶
   - å»ºè®®æ·»åŠ è¯·æ±‚é—´éš”
   - é¿å…é¢‘ç¹è¯·æ±‚

2. **æ•°æ®å»¶è¿Ÿ**
   - æ•°æ®å¯èƒ½æœ‰å‡ ç§’å»¶è¿Ÿ
   - ä¸é€‚åˆé«˜é¢‘äº¤æ˜“
   - é€‚åˆä¸­é•¿æœŸåˆ†æ

3. **éšç§è€ƒè™‘**
   - æ‰€æœ‰äº¤æ˜“æ•°æ®éƒ½æ˜¯å…¬å¼€çš„
   - è¿½è¸ªä»–äººäº¤æ˜“æ˜¯åˆæ³•çš„
   - ä½†è¯·éµå®ˆé“å¾·è§„èŒƒ

4. **é£é™©æç¤º**
   - è·Ÿå•æœ‰é£é™©
   - å†å²ä¸šç»©ä¸ä»£è¡¨æœªæ¥
   - è‡ªè¡Œæ‰¿æ‹…æŠ•èµ„é£é™©

## ğŸ“ æŠ€æœ¯æ ˆ

- **Python 3.13**
- **httpx** - å¼‚æ­¥ HTTP å®¢æˆ·ç«¯
- **Streamlit** - Dashboard æ¡†æ¶
- **pandas** - æ•°æ®å¤„ç†
- **asyncio** - å¼‚æ­¥ç¼–ç¨‹

## ğŸ“ å­¦ä¹ ä»·å€¼

é€šè¿‡è¿™ä¸ªé¡¹ç›®ï¼Œä½ å¯ä»¥å­¦ä¹ åˆ°ï¼š

1. **API ç ”ç©¶**ï¼šå¦‚ä½•å‘ç°å’Œæµ‹è¯•æœªå…¬å¼€çš„ API
2. **å¼‚æ­¥ç¼–ç¨‹**ï¼šPython asyncio çš„ä½¿ç”¨
3. **æ•°æ®åˆ†æ**ï¼šäº¤æ˜“æ•°æ®çš„ç»Ÿè®¡å’Œåˆ†æ
4. **å¯è§†åŒ–**ï¼šStreamlit Dashboard å¼€å‘
5. **å·¥ç¨‹å®è·µ**ï¼šæ¨¡å—åŒ–è®¾è®¡ã€é”™è¯¯å¤„ç†ã€æ–‡æ¡£ç¼–å†™

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æŸ¥çœ‹ï¼š
- è¯¦ç»†æ–‡æ¡£ï¼š`docs/ADDRESS_TRACKING.md`
- ä½¿ç”¨ç¤ºä¾‹ï¼š`example_address_tracking.py`
- æµ‹è¯•è„šæœ¬ï¼š`test_address_tracking_final.py`

---

**åˆ›å»ºæ—¥æœŸ**: 2025-12-26  
**ç‰ˆæœ¬**: 1.0  
**çŠ¶æ€**: âœ… å®Œæˆå¹¶æµ‹è¯•

