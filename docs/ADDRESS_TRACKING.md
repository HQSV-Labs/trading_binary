# Polymarket åœ°å€è¿½è¸ªåŠŸèƒ½

## æ¦‚è¿°

åœ°å€è¿½è¸ªåŠŸèƒ½å…è®¸ä½ è¿½è¸ªä»»ä½•ä»¥å¤ªåŠåœ°å€åœ¨ Polymarket ä¸Šçš„äº¤æ˜“æ´»åŠ¨ï¼ŒåŒ…æ‹¬ï¼š
- äº¤æ˜“å†å²è®°å½•
- ä¹°å–ç»Ÿè®¡åˆ†æ
- æŒ‰å¸‚åœºåˆ†ç»„çš„äº¤æ˜“æ•°æ®
- äº¤æ˜“é‡‘é¢å’Œæ•°é‡

## API å‘ç°

### å¯ç”¨çš„ API ç«¯ç‚¹

æˆ‘ä»¬å‘ç°äº† Polymarket çš„å…¬å¼€ APIï¼Œå¯ä»¥ç”¨æ¥è¿½è¸ªåœ°å€äº¤æ˜“ï¼š

```
https://data-api.polymarket.com/trades?address={address}
https://data-api.polymarket.com/trades?market={condition_id}
```

### API è¿”å›çš„æ•°æ®

æ¯ä¸ªäº¤æ˜“è®°å½•åŒ…å«ä»¥ä¸‹å­—æ®µï¼š
- `proxyWallet`: ä»£ç†é’±åŒ…åœ°å€
- `side`: äº¤æ˜“æ–¹å‘ï¼ˆBUY æˆ– SELLï¼‰
- `asset`: èµ„äº§ ID
- `conditionId`: å¸‚åœºæ¡ä»¶ ID
- `size`: äº¤æ˜“æ•°é‡
- `price`: äº¤æ˜“ä»·æ ¼
- `timestamp`: æ—¶é—´æˆ³
- `title`: å¸‚åœºæ ‡é¢˜
- `slug`: å¸‚åœº slugï¼ˆç”¨äºç”ŸæˆURLï¼‰

### API é™åˆ¶ä¸åˆ†é¡µ

**å•æ¬¡è¯·æ±‚é™åˆ¶**ï¼š
- API å•æ¬¡æœ€å¤šè¿”å› **10,000 ç¬”äº¤æ˜“**
- æ”¯æŒ `offset` å’Œ `limit` å‚æ•°è¿›è¡Œåˆ†é¡µ

**åˆ†é¡µè·å–**ï¼š
- æˆ‘ä»¬å®ç°äº†è‡ªåŠ¨åˆ†é¡µåŠŸèƒ½ï¼Œå¯ä»¥çªç ´ 10,000 ç¬”é™åˆ¶
- é€šè¿‡å¤šæ¬¡è¯·æ±‚è‡ªåŠ¨è·å–æ‰€æœ‰äº¤æ˜“æ•°æ®
- è¯¦è§ï¼š[åˆ†é¡µåŠŸèƒ½æ–‡æ¡£](PAGINATION_FEATURE.md)

## ä½¿ç”¨æ–¹æ³•

### 1. å‘½ä»¤è¡Œæµ‹è¯•

è¿è¡Œæµ‹è¯•è„šæœ¬æ¥æµ‹è¯• APIï¼š

```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate

# è¿è¡Œæµ‹è¯•è„šæœ¬
python test_address_tracking_final.py
```

### 2. ä½¿ç”¨ Dashboard

å¯åŠ¨åœ°å€è¿½è¸ª Dashboardï¼š

```bash
# æ–¹æ³• 1: ä½¿ç”¨å¯åŠ¨è„šæœ¬
./run_address_tracking.sh

# æ–¹æ³• 2: ç›´æ¥è¿è¡Œ streamlit
source venv/bin/activate
streamlit run dashboard_address_tracking.py --server.port 8502
```

ç„¶ååœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š`http://localhost:8502`

### 3. åœ¨ä»£ç ä¸­ä½¿ç”¨

```python
import asyncio
from src.market.address_tracker import AddressTracker

async def main():
    # åˆ›å»ºè¿½è¸ªå™¨
    async with AddressTracker() as tracker:
        # è·å–åœ°å€çš„äº¤æ˜“å†å²
        trades = await tracker.get_address_trades(
            "0x6031b6eed1c97e853c6e0f03ad3ce3529351f96d",
            limit=100
        )
        
        # åˆ†æäº¤æ˜“æ•°æ®
        analysis = tracker.analyze_trades(trades)
        
        # æ‰“å°ç»Ÿè®¡ä¿¡æ¯
        print(f"æ€»äº¤æ˜“æ•°: {analysis['total_trades']}")
        print(f"ä¹°å…¥äº¤æ˜“: {analysis['buy_trades']}")
        print(f"å–å‡ºäº¤æ˜“: {analysis['sell_trades']}")
        print(f"ä¹°å…¥æ€»é¢: ${analysis['total_buy_volume']:,.2f}")
        print(f"å–å‡ºæ€»é¢: ${analysis['total_sell_volume']:,.2f}")
        
        # æ‰“å°æœ€è¿‘çš„äº¤æ˜“
        for trade in trades[:5]:
            print(f"\n{trade.side} - {trade.title}")
            print(f"  æ•°é‡: {trade.size:,.0f} @ ${trade.price:.3f}")
            print(f"  æ—¶é—´: {trade.datetime}")

asyncio.run(main())
```

## ä»£ç ç»“æ„

### æ ¸å¿ƒæ¨¡å—

#### `src/market/address_tracker.py`

ä¸»è¦çš„åœ°å€è¿½è¸ªæ¨¡å—ï¼ŒåŒ…å«ï¼š

- `Trade`: äº¤æ˜“è®°å½•æ•°æ®ç±»
- `AddressTracker`: åœ°å€è¿½è¸ªå™¨ç±»
  - `get_address_trades()`: è·å–åœ°å€çš„äº¤æ˜“å†å²
  - `get_market_trades()`: è·å–å¸‚åœºçš„æ‰€æœ‰äº¤æ˜“
  - `analyze_trades()`: åˆ†æäº¤æ˜“æ•°æ®

#### `src/dashboard/address_tracking.py`

Dashboard UI ç»„ä»¶ï¼ŒåŒ…å«ï¼š

- `display_address_tracking()`: ä¸»ç•Œé¢
- `display_overview()`: æ˜¾ç¤ºäº¤æ˜“æ¦‚è§ˆ
- `display_recent_trades()`: æ˜¾ç¤ºæœ€è¿‘äº¤æ˜“
- `display_market_stats()`: æ˜¾ç¤ºå¸‚åœºç»Ÿè®¡

#### `dashboard_address_tracking.py`

ç‹¬ç«‹çš„ Streamlit åº”ç”¨ï¼Œç”¨äºè¿è¡Œåœ°å€è¿½è¸ª Dashboardã€‚

## ğŸ“Š åˆ†é¡µè·å–åŠŸèƒ½ï¼ˆçªç ´10000ç¬”é™åˆ¶ï¼‰

### é—®é¢˜
API å•æ¬¡è¯·æ±‚æœ€å¤šè¿”å› 10,000 ç¬”äº¤æ˜“ï¼Œå¯¹äºäº¤æ˜“é‡å¤§çš„å¸‚åœºæ— æ³•è·å–å®Œæ•´æ•°æ®ã€‚

### è§£å†³æ–¹æ¡ˆ
æˆ‘ä»¬å®ç°äº†**è‡ªåŠ¨åˆ†é¡µè·å–**åŠŸèƒ½ï¼š
- âœ… è‡ªåŠ¨åˆ†æ‰¹è¯·æ±‚ï¼Œçªç ´ 10,000 ç¬”é™åˆ¶
- âœ… å®æ—¶æ˜¾ç¤ºè·å–è¿›åº¦
- âœ… å¯é€‰è®¾ç½®ä¸Šé™ï¼Œé¿å…æ•°æ®è¿‡å¤š
- âœ… é€‚åˆå·²å…³é—­å¸‚åœºçš„å®Œæ•´åˆ†æ

### ä½¿ç”¨æ–¹å¼

**Dashboard ä¸­ä½¿ç”¨**ï¼š
1. è¿›å…¥"å¸‚åœºåˆ†æ"é¡µé¢
2. é€‰æ‹©"ğŸ”¥ è·å–å…¨éƒ¨"æ¨¡å¼
3. å¯é€‰è®¾ç½®æœ€å¤§æ•°é‡ï¼ˆ0 = ä¸é™åˆ¶ï¼‰
4. ç­‰å¾…åˆ†é¡µè·å–å®Œæˆï¼ˆ1-5åˆ†é’Ÿï¼‰

**ä»£ç ä¸­ä½¿ç”¨**ï¼š
```python
from src.market.address_tracker import AddressTracker

async with AddressTracker() as tracker:
    # è·å–æ‰€æœ‰äº¤æ˜“ï¼ˆä¸é™åˆ¶ï¼‰
    all_trades = await tracker.get_all_market_trades(
        condition_id="0x28a246...",
        max_trades=None,    # None = ä¸é™åˆ¶
        batch_size=1000     # æ¯æ‰¹1000ç¬”
    )
    
    print(f"è·å–åˆ° {len(all_trades)} ç¬”äº¤æ˜“")
```

è¯¦ç»†è¯´æ˜ï¼š[åˆ†é¡µåŠŸèƒ½æ–‡æ¡£](PAGINATION_FEATURE.md)

## åŠŸèƒ½ç‰¹æ€§

### âœ… å·²å®ç°

1. **åœ°å€äº¤æ˜“å†å²æŸ¥è¯¢**
   - é€šè¿‡ API è·å–ä»»æ„åœ°å€çš„äº¤æ˜“è®°å½•
   - æ”¯æŒé™åˆ¶è¿”å›æ•°é‡

2. **å¸‚åœºäº¤æ˜“æŸ¥è¯¢**
   - è·å–ç‰¹å®šå¸‚åœºçš„æ‰€æœ‰äº¤æ˜“
   - å¯ä»¥å¯¹æ¯”è‡ªå·±å’Œå…¶ä»–äº¤æ˜“è€…

3. **äº¤æ˜“æ•°æ®åˆ†æ**
   - ä¹°å–ç»Ÿè®¡
   - äº¤æ˜“é‡‘é¢æ±‡æ€»
   - æŒ‰å¸‚åœºåˆ†ç»„ç»Ÿè®¡
   - å‡€æŠ•å…¥è®¡ç®—

4. **å¯è§†åŒ– Dashboard**
   - äº¤æ˜“æ¦‚è§ˆå¡ç‰‡
   - æœ€è¿‘äº¤æ˜“åˆ—è¡¨
   - æŒ‰å¸‚åœºåˆ†ç»„çš„ç»Ÿè®¡è¡¨æ ¼
   - å¯ç‚¹å‡»çš„å¸‚åœºé“¾æ¥

### ğŸš§ å¯ä»¥æ‰©å±•çš„åŠŸèƒ½

1. **å®æ—¶ç›‘æ§**
   - WebSocket æˆ–å®šæ—¶è½®è¯¢
   - æ–°äº¤æ˜“æé†’
   - ä»·æ ¼å˜åŠ¨é€šçŸ¥

2. **å¤šåœ°å€è¿½è¸ª**
   - åŒæ—¶è¿½è¸ªå¤šä¸ªåœ°å€
   - åœ°å€å¯¹æ¯”åˆ†æ
   - ç»„åˆç»Ÿè®¡

3. **é«˜çº§åˆ†æ**
   - èƒœç‡ç»Ÿè®¡
   - ç›ˆäºåˆ†æ
   - äº¤æ˜“æ¨¡å¼è¯†åˆ«
   - è·Ÿå•åŠŸèƒ½

4. **æ•°æ®å¯¼å‡º**
   - CSV å¯¼å‡º
   - Excel æŠ¥è¡¨
   - å›¾è¡¨ç”Ÿæˆ

5. **ç­–ç•¥å›æµ‹**
   - æ¨¡æ‹Ÿè·Ÿéšäº¤æ˜“
   - æ”¶ç›Šè®¡ç®—
   - é£é™©è¯„ä¼°

## æµ‹è¯•ç¤ºä¾‹

### ç¤ºä¾‹åœ°å€

```
0x6031b6eed1c97e853c6e0f03ad3ce3529351f96d
```

è¿™ä¸ªåœ°å€åœ¨æµ‹è¯•ä¸­æ˜¾ç¤ºï¼š
- 100+ ç¬”äº¤æ˜“
- ä¸»è¦äº¤æ˜“ BTC/ETH 15åˆ†é’Ÿå¸‚åœº
- ä¹°å…¥ä¸ºä¸»çš„äº¤æ˜“ç­–ç•¥

### æµ‹è¯•è¾“å‡ºç¤ºä¾‹

```
âœ“ æ‰¾åˆ° 100 ç¬”äº¤æ˜“

äº¤æ˜“ç»Ÿè®¡:
  - ä¹°å…¥äº¤æ˜“: 75 ç¬”
  - å–å‡ºäº¤æ˜“: 25 ç¬”
  - ä¹°å…¥æ€»é‡‘é¢: $1,678.09
  - å–å‡ºæ€»é‡‘é¢: $186.12
  - æ¶‰åŠå¸‚åœºæ•°: 31

æœ€è¿‘çš„äº¤æ˜“:
1. ğŸŸ¢ BUY - 2025-12-26 21:32:29
   å¸‚åœº: Bitcoin Up or Down - December 26, 8AM ET
   æ•°é‡: 119 @ $0.840 = $100.00
```

## API é™åˆ¶å’Œæ³¨æ„äº‹é¡¹

1. **é€Ÿç‡é™åˆ¶**
   - API å¯èƒ½æœ‰é€Ÿç‡é™åˆ¶
   - å»ºè®®æ·»åŠ è¯·æ±‚é—´éš”

2. **æ•°æ®å»¶è¿Ÿ**
   - æ•°æ®å¯èƒ½æœ‰å‡ ç§’çš„å»¶è¿Ÿ
   - ä¸é€‚åˆé«˜é¢‘äº¤æ˜“ç›‘æ§

3. **å†å²æ•°æ®**
   - é»˜è®¤è¿”å›æœ€è¿‘ 100 ç¬”äº¤æ˜“
   - å¯ä»¥é€šè¿‡ `limit` å‚æ•°è°ƒæ•´

4. **è®¤è¯**
   - ç›®å‰ä½¿ç”¨çš„æ˜¯å…¬å¼€ API
   - ä¸éœ€è¦ API å¯†é’¥
   - éƒ¨åˆ†åŠŸèƒ½å¯èƒ½éœ€è¦è®¤è¯

## å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆæ‰¾ä¸åˆ°äº¤æ˜“è®°å½•ï¼Ÿ

A: å¯èƒ½çš„åŸå› ï¼š
1. åœ°å€æ ¼å¼é”™è¯¯ï¼ˆç¡®ä¿æ˜¯ 0x å¼€å¤´çš„42å­—ç¬¦åœ°å€ï¼‰
2. è¯¥åœ°å€æ²¡æœ‰åœ¨ Polymarket ä¸Šè¿›è¡Œè¿‡äº¤æ˜“
3. API æš‚æ—¶ä¸å¯ç”¨

### Q: äº¤æ˜“æ•°æ®å¤šä¹…æ›´æ–°ä¸€æ¬¡ï¼Ÿ

A: æ•°æ®æ˜¯å®æ—¶çš„ï¼Œæ¯æ¬¡æŸ¥è¯¢éƒ½ä¼šè·å–æœ€æ–°æ•°æ®ã€‚ä½†å¯èƒ½æœ‰å‡ ç§’çš„å»¶è¿Ÿã€‚

### Q: å¯ä»¥è¿½è¸ªå¤šä¸ªåœ°å€å—ï¼Ÿ

A: ç›®å‰åªæ”¯æŒå•ä¸ªåœ°å€è¿½è¸ªã€‚å¦‚éœ€å¤šåœ°å€è¿½è¸ªï¼Œå¯ä»¥å¾ªç¯è°ƒç”¨ API æˆ–ä¿®æ”¹ä»£ç ã€‚

### Q: æ•°æ®å‡†ç¡®å—ï¼Ÿ

A: æ•°æ®æ¥è‡ª Polymarket å®˜æ–¹ APIï¼Œå‡†ç¡®æ€§æœ‰ä¿è¯ã€‚ä½†å»ºè®®ä¸ Polymarket ç½‘ç«™è¿›è¡Œäº¤å‰éªŒè¯ã€‚

## æŠ€æœ¯ç»†èŠ‚

### ä¾èµ–åº“

- `httpx`: å¼‚æ­¥ HTTP å®¢æˆ·ç«¯
- `streamlit`: Dashboard æ¡†æ¶
- `pandas`: æ•°æ®å¤„ç†

### é”™è¯¯å¤„ç†

ä»£ç åŒ…å«å®Œå–„çš„é”™è¯¯å¤„ç†ï¼š
- ç½‘ç»œè¿æ¥é”™è¯¯
- API è¿”å›é”™è¯¯
- æ•°æ®è§£æé”™è¯¯
- å‚æ•°éªŒè¯

### æ€§èƒ½ä¼˜åŒ–

- ä½¿ç”¨å¼‚æ­¥ HTTP è¯·æ±‚
- æ”¯æŒé™åˆ¶è¿”å›æ•°é‡
- ç¼“å­˜å®¢æˆ·ç«¯è¿æ¥

## è´¡çŒ®

å¦‚æœä½ æƒ³æ‰©å±•è¿™ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºæ–°åˆ†æ”¯
3. æäº¤æ”¹è¿›
4. å‘èµ· Pull Request

## è®¸å¯

æœ¬åŠŸèƒ½ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œè¯·éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„å’Œ Polymarket çš„ä½¿ç”¨æ¡æ¬¾ã€‚

